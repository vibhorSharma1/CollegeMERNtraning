<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <script src="https://cdn.tailwindcss.com"></script>
  <title>Students - Node, EJS & Tailwind</title>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen">
  <%- include('./Base/header') %>

    <!-- Heading Section -->
    <section class="w-full bg-blue-600 py-6 mb-8 shadow-md">
      <div class="max-w-6xl mx-auto px-6 text-center">
        <h1 class="text-3xl font-bold text-white tracking-wide">Students</h1>
        <p class="text-blue-100 mt-2">List of all registered students</p>
      </div>
    </section>

    <!-- Student Table -->
    <div class="overflow-x-auto mt-6 px-6">
      <table class="min-w-full border border-gray-300 divide-y divide-gray-200 shadow-lg rounded-lg">
        <thead class="bg-gray-100">
          <tr>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Roll No</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Student Name</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Father Name</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Mother Name</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Course</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Branch</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Year of Admission</th>
            <th class="px-6 py-3 text-left text-sm font-semibold text-gray-700">Operation</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <% students.forEach(student=> { %>
            <tr>
              <td class="px-6 py-4 text-sm text-gray-900">
                <%= student.rollNo %>
              </td>
              <td class="px-6 py-4 text-sm text-gray-900">
                <%= student.studentName %>
              </td>
              <td class="px-6 py-4 text-sm text-gray-900">
                <%= student.fatherName %>
              </td>
              <td class="px-6 py-4 text-sm text-gray-900">
                <%= student.motherName %>
              </td>
              <td class="px-6 py-4 text-sm text-gray-900">
                <%= student.course %>
              </td>
              <td class="px-6 py-4 text-sm text-gray-900">
                <%= student.branch %>
              </td>
              <td class="px-6 py-4 text-sm text-gray-900">
                <%= student.yearOfAdmission %>
              </td>

              <!-- Operation Buttons -->
              <td class="px-6 py-4 text-sm text-gray-900 flex gap-2">
                <!-- Edit Button -->
                <a href="/student/edit/<%= student._id %>"
                  class="flex items-center gap-1 px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition">
                  <i class="fas fa-edit"></i> Edit
                </a>

                <!-- Delete Button -->
                <form action="/student/delete/<%= student._id %>" method="POST"
                  onsubmit="return confirm('Are you sure you want to delete this student?');">
                  <button type="submit"
                    class="flex items-center gap-1 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition">
                    <i class="fas fa-trash"></i> Delete
                  </button>
                </form>
              </td>

            </tr>
            <% }) %>
        </tbody>
      </table>
    </div>

</body>

</html>